<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ôn Thi Tiếng Anh</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      .flashcard-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.6s;
        transform-style: preserve-3d;
      }
      .flashcard.flipped .flashcard-inner {
        transform: rotateY(180deg);
      }
      .flashcard-front,
      .flashcard-back {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 0.5rem;
      }
      .flashcard-back {
        transform: rotateY(180deg);
      }
      .nav-button.active {
        background-color: #3b82f6; /* blue-500 */
        color: white;
      }
      .quiz-option:hover {
        background-color: #eff6ff; /* blue-50 */
      }
    </style>
  </head>
  <body class="bg-gray-100 text-gray-800">
    <div class="container mx-auto p-4 md:p-8 max-w-5xl">
      <header class="text-center mb-8">
        <h1 class="text-3xl md:text-4xl font-bold text-blue-600">
          Trang Web Ôn Thi Tiếng Anh
        </h1>
        <p class="text-gray-600 mt-2">
          Phiên bản đầy đủ dựa trên ghi chép của bạn!
        </p>
      </header>

      <nav
        class="bg-white rounded-lg shadow-md p-2 mb-8 flex flex-wrap justify-center gap-2"
      >
        <button
          onclick="showPage('home')"
          class="nav-button active text-sm md:text-base font-medium px-4 py-2 rounded-md hover:bg-blue-500 hover:text-white transition-colors duration-300"
        >
          Trang chủ
        </button>
        <button
          onclick="showPage('unit9')"
          class="nav-button text-sm md:text-base font-medium px-4 py-2 rounded-md hover:bg-blue-500 hover:text-white transition-colors duration-300"
        >
          Unit 9
        </button>
        <button
          onclick="showPage('unit10')"
          class="nav-button text-sm md:text-base font-medium px-4 py-2 rounded-md hover:bg-blue-500 hover:text-white transition-colors duration-300"
        >
          Unit 10
        </button>
        <button
          onclick="showPage('unit11')"
          class="nav-button text-sm md:text-base font-medium px-4 py-2 rounded-md hover:bg-blue-500 hover:text-white transition-colors duration-300"
        >
          Unit 11
        </button>
        <button
          onclick="showPage('unit12')"
          class="nav-button text-sm md:text-base font-medium px-4 py-2 rounded-md hover:bg-blue-500 hover:text-white transition-colors duration-300"
        >
          Unit 12
        </button>
        <button
          onclick="showPage('practice')"
          class="nav-button text-sm md:text-base font-medium px-4 py-2 rounded-md hover:bg-green-500 hover:bg-green-600 transition-colors duration-300 bg-green-500 text-white"
        >
          Bài tập lớn
        </button>
      </nav>

      <main id="content-container">
        <div id="home" class="page bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-2xl font-bold text-gray-700 mb-4">Chào mừng bạn!</h2>
          <p>
            Hãy chọn một bài học (Unit) hoặc mục "Bài tập lớn" từ thanh điều
            hướng để bắt đầu.
          </p>
          <div
            class="mt-6 p-4 bg-green-50 border-l-4 border-green-400 text-green-700 rounded-r-lg"
          >
            <p>
              <strong class="font-semibold">Cập nhật:</strong> Mục "Bài tập lớn"
              đã được thêm rất nhiều câu hỏi mới để bạn thỏa sức luyện tập!
            </p>
          </div>
        </div>

        <div id="unit9" class="page hidden bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-2xl font-bold text-gray-700 mb-4">
            Unit 9: Famous Face - Thì Quá khứ đơn
          </h2>
          <h3 class="text-xl font-semibold text-blue-600 mb-3">1. Từ vựng</h3>
          <div
            class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"
            id="vocab-unit9"
          ></div>
          <h3 class="text-xl font-semibold text-blue-600 mt-8 mb-3">
            2. Bài tập: Chia động từ
          </h3>
          <div class="space-y-4" id="quiz-unit9"></div>
        </div>

        <div id="unit10" class="page hidden bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-2xl font-bold text-gray-700 mb-4">
            Unit 10: It's History - Động từ bất quy tắc
          </h2>
          <h3 class="text-xl font-semibold text-blue-600 mb-3">1. Từ vựng</h3>
          <div
            class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"
            id="vocab-unit10"
          ></div>
          <h3 class="text-xl font-semibold text-blue-600 mt-8 mb-3">
            2. Bài tập: Điền dạng quá khứ của động từ
          </h3>
          <div class="space-y-4" id="quiz-unit10"></div>
        </div>

        <div id="unit11" class="page hidden bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-2xl font-bold text-gray-700 mb-4">
            Unit 11: Having Fun - Động từ Yêu/Ghét
          </h2>
          <h3 class="text-xl font-semibold text-blue-600 mb-3">1. Từ vựng</h3>
          <div
            class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"
            id="vocab-unit11"
          ></div>
          <h3 class="text-xl font-semibold text-blue-600 mt-8 mb-3">
            2. Bài tập: Chia động từ
          </h3>
          <div class="space-y-4" id="quiz-unit11"></div>
        </div>

        <div id="unit12" class="page hidden bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-2xl font-bold text-gray-700 mb-4">
            Unit 12: Going Away - Du lịch & Hiện tại tiếp diễn
          </h2>
          <h3 class="text-xl font-semibold text-blue-600 mb-3">1. Từ vựng</h3>
          <div
            class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"
            id="vocab-unit12"
          ></div>
          <h3 class="text-xl font-semibold text-blue-600 mt-8 mb-3">
            2. Ngữ pháp & Phân biệt thì
          </h3>
          <div class="bg-gray-50 p-4 rounded-lg space-y-4"></div>
          <h3 class="text-xl font-semibold text-blue-600 mt-8 mb-3">
            3. Bài tập: Chọn từ đúng
          </h3>
          <div class="space-y-6" id="quiz-unit12"></div>
        </div>

        <div
          id="practice"
          class="page hidden bg-white p-6 rounded-lg shadow-md"
        >
          <h2 class="text-2xl font-bold text-gray-700 mb-4">
            Bài Kiểm Tra Tổng Hợp (20+ câu)
          </h2>
          <p class="mb-6 text-gray-600">
            Chọn đáp án đúng nhất để hoàn thành các câu sau.
          </p>
          <div class="space-y-6" id="practice-quiz-container"></div>
          <div class="text-center mt-8">
            <button
              onclick="resetPracticeQuiz()"
              class="bg-indigo-500 text-white font-semibold px-6 py-2 rounded-lg hover:bg-indigo-600 transition-colors"
            >
              Làm lại bài kiểm tra
            </button>
          </div>
        </div>
      </main>
    </div>

    <script>
      // --- DỮ LIỆU TỪ VỰNG VÀ BÀI TẬP ---
      const vocabData = {
        unit9: [
          { en: "collect stamps", vi: "sưu tầm tem" },
          { en: "design a building", vi: "thiết kế toà nhà" },
          { en: "decide", vi: "quyết định" },
          { en: "discover", vi: "khám phá" },
          { en: "scientist", vi: "nhà khoa học" },
          { en: "mathematician", vi: "nhà toán học" },
        ],
        unit10: [
          { en: "object", vi: "hiện vật" },
          { en: "important", vi: "quan trọng" },
          { en: "project", vi: "dự án" },
          { en: "choose -> chose", vi: "chọn" },
          { en: "find -> found", vi: "tìm thấy" },
          { en: "build -> built", vi: "xây" },
          { en: "metal", vi: "kim loại" },
          { en: "chariot", vi: "xe ngựa kéo" },
          { en: "empire", vi: "đế chế" },
          { en: "banknote", vi: "ngân phiếu" },
        ],
        unit11: [
          { en: "leisure activities", vi: "hoạt động giải trí" },
          { en: "go to the concert", vi: "đi xem hoà nhạc" },
          { en: "take out food", vi: "mua đồ ăn mang đi" },
          { en: "stadium", vi: "sân vận động" },
          { en: "player", vi: "cầu thủ" },
          { en: "be interested in", vi: "thích thú, quan tâm" },
        ],
        unit12: [
          { en: "airport", vi: "sân bay" },
          { en: "miss (a flight)", vi: "nhỡ (chuyến bay)" },
          { en: "take a taxi", vi: "bắt xe taxi" },
          { en: "traffic jam", vi: "tắc đường" },
          { en: "passport", vi: "hộ chiếu" },
          { en: "luggage", vi: "hành lý" },
          { en: "wallet", vi: "ví tiền" },
          { en: "suitcase", vi: "va li" },
          { en: "credit card", vi: "thẻ tín dụng" },
          { en: "go on vacation", vi: "đi nghỉ dưỡng" },
          { en: "on time", vi: "đúng giờ" },
        ],
      };

      const quizData = {
        unit9: [
          {
            sentence: "I (visit) _______ my grandparents last week.",
            answer: "visited",
          },
          {
            sentence: "She (not watch) _______ TV yesterday.",
            answer: "didn't watch",
          },
          { sentence: "They (be) _______ very happy.", answer: "were" },
        ],
        unit10: [
          {
            sentence: "The Romans (build) _______ many roads.",
            answer: "built",
          },
          {
            sentence: "I (find) _______ my keys under the sofa.",
            answer: "found",
          },
          {
            sentence: "She (choose) _______ the red dress for the party.",
            answer: "chose",
          },
        ],
        unit11: [
          {
            sentence: "We enjoy (listen) _______ to music.",
            answer: "listening",
          },
          { sentence: "He hates (do) _______ the housework.", answer: "doing" },
          { sentence: "Do you like (play) _______ soccer?", answer: "playing" },
        ],
      };

      // BÀI KIỂM TRA TỔNG HỢP MỚI VỚI NHIỀU CÂU HỎI
      const practiceQuizData = [
        // Unit 9: Past Simple (was/were, V-ed)
        {
          question: "My friends _______ at the party last night.",
          options: ["was", "is", "were", "are"],
          answer: "were",
        },
        {
          question: "I _______ stamps when I was a child.",
          options: ["collect", "collected", "am collecting", "collects"],
          answer: "collected",
        },
        {
          question: "She _______ to our question; she just smiled.",
          options: [
            "didn't answer",
            "not answer",
            "don't answer",
            "answered not",
          ],
          answer: "didn't answer",
        },
        // Unit 10: Past Simple (irregular verbs), vocab
        {
          question: "The ancient Egyptians _______ the great pyramids.",
          options: ["build", "built", "have built", "are building"],
          answer: "built",
        },
        {
          question: "He _______ his wallet on the bus yesterday.",
          options: ["loses", "lost", "is losing", "has lost"],
          answer: "lost",
        },
        {
          question: "A _______ is a very old and valuable thing from history.",
          options: ["banknote", "project", "object", "chariot"],
          answer: "object",
        },
        {
          question:
            "The ancient Roman _______ was one of the most powerful in history.",
          options: ["empire", "stadium", "metal", "player"],
          answer: "empire",
        },
        // Unit 11: V-ing, vocab
        {
          question: "I really enjoy _______ sports with my friends.",
          options: ["to watch", "watch", "watching", "watched"],
          answer: "watching",
        },
        {
          question: "He is a famous football _______ for the national team.",
          options: ["player", "scientist", "hero", "character"],
          answer: "player",
        },
        {
          question: "What kind of _______ do you do in your free time?",
          options: [
            "take out food",
            "leisure activities",
            "go out",
            "find out",
          ],
          answer: "leisure activities",
        },
        {
          question: "My sister hates _______ up early on weekends.",
          options: ["get", "to get", "getting", "got"],
          answer: "getting",
        },
        // Unit 12: Present Continuous, vocab
        {
          question: "Please be quiet. I _______ to the radio.",
          options: ["listen", "listened", "am listening", "was listening"],
          answer: "am listening",
        },
        {
          question: "Look! That man _______ to open your car door!",
          options: ["tries", "tried", "is trying", "was trying"],
          answer: "is trying",
        },
        {
          question:
            "You must show your _______ before you can get on the plane.",
          options: ["passport", "luggage", "suitcase", "credit card"],
          answer: "passport",
        },
        {
          question:
            "The traffic is terrible. I'm afraid we won't arrive _______.",
          options: ["in time", "at time", "on time", "of time"],
          answer: "on time",
        },
        // General Grammar & Mixed Questions
        {
          question: "_______ you see the new action movie last Friday?",
          options: ["Do", "Did", "Are", "Were"],
          answer: "Did",
        },
        {
          question: "This isn't my bag. It must be _______.",
          options: ["her", "she", "hers", "she's"],
          answer: "hers",
        },
        {
          question: "Could you pass _______ the salt, please?",
          options: ["I", "my", "me", "mine"],
          answer: "me",
        },
        {
          question: "My mother _______ dinner in the kitchen right now.",
          options: ["cooks", "cooked", "is cooking", "was cooking"],
          answer: "is cooking",
        },
        {
          question: "Leonardo da Vinci _______ the Mona Lisa.",
          options: ["paints", "painted", "is painting", "has painted"],
          answer: "painted",
        },
        {
          question: "I have too much _______ to carry by myself. Can you help?",
          options: ["wallet", "passport", "luggage", "traffic"],
          answer: "luggage",
        },
        {
          question:
            "He _______ for his keys for 10 minutes and finally _______ them under the bed.",
          options: [
            "looked / found",
            "looked / finded",
            "was looking / find",
            "looked / was finding",
          ],
          answer: "looked / found",
        },
      ];

      const unit12QuizData = [
        {
          question: "You need a _______ to fly to another country.",
          options: ["passport", "wallet", "suitcase"],
          answer: "passport",
        },
        {
          question: "I packed all my clothes in a large _______.",
          options: ["bag", "suitcase", "wallet"],
          answer: "suitcase",
        },
        {
          question: "We arrived at the station just _______ for the train.",
          options: ["on time", "in time", "at time"],
          answer: "on time",
        },
      ];

      // --- HÀM TẠO GIAO DIỆN ---
      function createFlashcard(word) {
        const card = document.createElement("div");
        card.className =
          "flashcard bg-white shadow rounded-lg cursor-pointer h-32";
        card.style.perspective = "1000px";
        const cardInner = document.createElement("div");
        cardInner.className = "flashcard-inner";
        const cardFront = document.createElement("div");
        cardFront.className = "flashcard-front bg-blue-100 text-blue-800 p-2";
        cardFront.innerHTML = `<span class="font-semibold text-lg">${word.en}</span>`;
        const cardBack = document.createElement("div");
        cardBack.className = "flashcard-back bg-green-100 text-green-800 p-2";
        cardBack.innerHTML = `<span class="font-semibold text-lg">${word.vi}</span>`;
        cardInner.appendChild(cardFront);
        cardInner.appendChild(cardBack);
        card.appendChild(cardInner);
        card.addEventListener("click", () => card.classList.toggle("flipped"));
        return card;
      }

      function createFillInBlankQuestion(question, index) {
        const container = document.createElement("div");
        container.className = "quiz-question bg-gray-50 p-4 rounded-lg";
        const questionText = document.createElement("p");
        questionText.textContent = `${index + 1}. ${question.sentence}`;
        const input = document.createElement("input");
        input.type = "text";
        input.className =
          "mt-2 w-full md:w-1/2 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500";
        input.placeholder = "Nhập câu trả lời...";
        const button = document.createElement("button");
        button.textContent = "Kiểm tra";
        button.className =
          "ml-0 md:ml-2 mt-2 md:mt-0 bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition";
        const feedback = document.createElement("p");
        feedback.className = "mt-2 font-medium";
        button.addEventListener("click", () => {
          if (
            input.value.trim().toLowerCase() === question.answer.toLowerCase()
          ) {
            feedback.textContent = "Chính xác!";
            feedback.className = "mt-2 font-medium text-green-600";
          } else {
            feedback.textContent = `Sai rồi! Đáp án đúng là: ${question.answer}`;
            feedback.className = "mt-2 font-medium text-red-600";
          }
        });
        container.appendChild(questionText);
        container.appendChild(input);
        container.appendChild(button);
        container.appendChild(feedback);
        return container;
      }

      function createMultipleChoiceQuestion(data, index, containerId) {
        const container = document.createElement("div");
        container.className =
          "practice-question bg-gray-50 p-4 rounded-lg shadow-sm";
        const questionText = document.createElement("p");
        questionText.className = "font-semibold mb-3";
        questionText.textContent = `${index + 1}. ${data.question}`;
        container.appendChild(questionText);
        const optionsContainer = document.createElement("div");
        optionsContainer.className = "space-y-2";
        container.appendChild(optionsContainer);
        const feedback = document.createElement("p");
        feedback.className = "mt-3 font-medium text-sm";
        container.appendChild(feedback);
        data.options.forEach((option) => {
          const optionLabel = document.createElement("label");
          optionLabel.className =
            "block p-3 rounded-md border border-gray-200 cursor-pointer quiz-option transition-colors duration-200";
          const optionInput = document.createElement("input");
          optionInput.type = "radio";
          optionInput.name = `${containerId}-question-${index}`;
          optionInput.value = option;
          optionInput.className = "mr-3";
          optionInput.addEventListener("change", () => {
            optionsContainer.querySelectorAll("label").forEach((lbl) => {
              lbl.classList.remove(
                "bg-green-200",
                "border-green-400",
                "bg-red-200",
                "border-red-400"
              );
            });
            if (optionInput.value === data.answer) {
              optionLabel.classList.add("bg-green-200", "border-green-400");
              feedback.textContent = "Chính xác! Tuyệt vời!";
              feedback.className = "mt-3 font-medium text-sm text-green-700";
            } else {
              optionLabel.classList.add("bg-red-200", "border-red-400");
              feedback.textContent = `Chưa đúng. Đáp án đúng là "${data.answer}".`;
              feedback.className = "mt-3 font-medium text-sm text-red-700";
            }
          });
          optionLabel.appendChild(optionInput);
          optionLabel.appendChild(document.createTextNode(option));
          optionsContainer.appendChild(optionLabel);
        });
        return container;
      }

      function renderPracticeQuiz() {
        const practiceContainer = document.getElementById(
          "practice-quiz-container"
        );
        practiceContainer.innerHTML = ""; // Xóa bài cũ
        // Trộn câu hỏi để mỗi lần làm lại sẽ khác
        const shuffledQuestions = practiceQuizData.sort(
          () => 0.5 - Math.random()
        );
        shuffledQuestions.forEach((q, index) =>
          practiceContainer.appendChild(
            createMultipleChoiceQuestion(q, index, "practice")
          )
        );
      }

      function resetPracticeQuiz() {
        renderPracticeQuiz();
        showPage("practice");
      }

      // --- HÀM KHỞI TẠO VÀ ĐIỀU KHIỂN ---
      function showPage(pageId) {
        document
          .querySelectorAll(".page")
          .forEach((p) => p.classList.add("hidden"));
        document.getElementById(pageId).classList.remove("hidden");
        document.querySelectorAll(".nav-button").forEach((b) => {
          b.classList.remove("active");
          if (b.getAttribute("onclick").includes(`'${pageId}'`)) {
            b.classList.add("active");
          }
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        // Tạo flashcards
        for (const unit in vocabData) {
          const container = document.getElementById(`vocab-${unit}`);
          if (container) {
            vocabData[unit].forEach((word) =>
              container.appendChild(createFlashcard(word))
            );
          }
        }

        // Tạo câu hỏi quiz điền từ
        for (const unit in quizData) {
          const container = document.getElementById(`quiz-${unit}`);
          if (container) {
            quizData[unit].forEach((q, index) =>
              container.appendChild(createFillInBlankQuestion(q, index))
            );
          }
        }

        // Tạo câu hỏi trắc nghiệm cho Unit 12
        const quizContainer12 = document.getElementById("quiz-unit12");
        unit12QuizData.forEach((q, index) =>
          quizContainer12.appendChild(
            createMultipleChoiceQuestion(q, index, "unit12")
          )
        );

        // Tạo câu hỏi trắc nghiệm tổng hợp
        renderPracticeQuiz();

        showPage("home");
      });
    </script>
  </body>
</html>
